var TodoList=React.createClass({displayName:"TodoList",propTypes:{items:React.PropTypes.array},render:function(){var t=function(t){return React.createElement("li",null,t)};return React.createElement("ul",null,this.props.items.map(t))}}),ToDoErrors=React.createClass({displayName:"ToDoErrors",render:function(){return React.createElement("div",{className:"alert alert-dismissable alert-warning"},React.createElement("h4",null,"error!"),React.createElement("p",null,this.props.items))}}),TodoApp=React.createClass({displayName:"TodoApp",getInitialState:function(){return{items:[],title:""}},onChange:function(t){this.setState({title:t.target.value})},loadTodoTasks:function(){$.ajax({url:this.props.callUri,dataType:"json",type:"GET",success:function(t){this.setState({items:t})}.bind(this),error:function(){}.bind(this)})},componentDidMount:function(){this.loadTodoTasks()},handleSubmit:function(t){t.preventDefault(),$.ajax({url:this.props.callUri,dataType:"json",type:"POST",headers:{"X-XSRF-TOKEN":$('meta[name="_token"]').attr("content")},data:{title:this.state.title},success:function(t){this.setState({items:t,error:!1,title:""})}.bind(this),error:function(t){this.setState({error:t.responseJSON.title,title:""})}.bind(this)})},render:function(){return React.createElement("div",null,React.createElement("h3",null,"TODO"),React.createElement(TodoList,{items:this.state.items}),this.state.error?React.createElement(ToDoErrors,{items:this.state.error}):null,React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("div",{className:"form-control-wrapper"},React.createElement("input",{onChange:this.onChange,value:this.state.title,className:"form-control empty"})),React.createElement("button",{className:"btn btn-primary"},"Add #"+(this.state.items.length+1))))}});React.renderComponent(React.createElement(TodoApp,{callUri:"/api/v1/todo"}),document.getElementById("todo"));