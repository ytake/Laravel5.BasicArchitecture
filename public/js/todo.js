var TodoList=React.createClass({displayName:"TodoList",propTypes:{items:React.PropTypes.array},createItem:function(e){return React.createElement("li",null,e.title,1!==e.id&&2!==e.id?React.createElement("a",{href:"#",onClick:this.props.handleDelete.bind(this,e)},React.createElement("i",{className:"mdi-toggle-check-box"})):null)},render:function(){return React.createElement("ul",null,this.props.items.map(this.createItem))}}),ToDoErrors=React.createClass({displayName:"ToDoErrors",render:function(){return React.createElement("div",{className:"alert alert-dismissable alert-warning"},React.createElement("h4",null,"error!"),React.createElement("p",null,this.props.items))}}),TodoApp=React.createClass({displayName:"TodoApp",getInitialState:function(){return{items:[],title:""}},onChange:function(e){this.setState({title:e.target.value})},loadTodoTasks:function(){this.ajaxRequest("GET",this.props.callUri,[])},componentDidMount:function(){this.loadTodoTasks()},handleSubmit:function(e){e.preventDefault(),this.ajaxRequest("POST",this.props.callUri,{title:this.state.title})},ajaxRequest:function(e,t,a){$.ajax({url:t,dataType:"json",type:e,headers:{"X-XSRF-TOKEN":$('meta[name="_token"]').attr("content")},data:a,success:function(e){this.setState({items:e,error:!1,title:""})}.bind(this),error:function(e){this.setState({error:e.responseJSON.title,title:""})}.bind(this)})},handleDelete:function(e,t){t.preventDefault(),this.ajaxRequest("DELETE",this.props.callUri+"/"+e.id,[])},render:function(){return React.createElement("div",null,React.createElement("h3",null,"TODO"),React.createElement(TodoList,{items:this.state.items,handleDelete:this.handleDelete}),this.state.error?React.createElement(ToDoErrors,{items:this.state.error}):null,React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("div",{className:"form-control-wrapper"},React.createElement("input",{onChange:this.onChange,value:this.state.title,className:"form-control empty"})),React.createElement("button",{className:"btn btn-primary"},"Add #"+(this.state.items.length+1))))}});React.renderComponent(React.createElement(TodoApp,{callUri:"/api/v1/todo"}),document.getElementById("todo"));